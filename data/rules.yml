version: "3.1"

rules:
  - rule: Sapa pengguna saat terdeteksi intent greet
    steps:
      - intent: greet
      - action: utter_greet

  - rule: Ucapkan selamat tinggal saat terdeteksi intent goodbye
    steps:
      - intent: goodbye
      - action: utter_goodbye

  - rule: Jalankan pencarian produk dengan acknowledgment ketika intent search_product terdeteksi
    steps:
      - intent: search_product
      - action: utter_acknowledge_search
      - action: action_search_product_api

  - rule: Tampilkan semua toko ketika diminta
    steps:
      - intent: list_shops
      - action: utter_showing_all_shops
      - action: action_list_shops_api

  - rule: Berikan rekomendasi produk ketika diminta dan diikuti pertanyaan
    steps:
      - intent: product_recommendations
      - action: utter_give_recommendations
      - action: action_recommend_products
      - action: utter_ask_after_recommendations

  - rule: Tampilkan semua produk ketika diminta
    steps:
      - intent: list_products
      - action: utter_showing_all_products
      - action: action_list_products_api

  - rule: Tangani pertanyaan di luar konteks
    steps:
      - intent: out_of_scope
      - action: utter_out_of_scope
