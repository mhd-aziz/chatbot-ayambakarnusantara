version: "3.1"

stories:
  - story: Pengguna mencari produk dan ditemukan dengan nama produk
    steps:
      - intent: search_product
        entities:
          - product_name: "Pepes Tahu"
      - slot_was_set:
          - product_name_slot: "Pepes Tahu"
      - action: utter_acknowledge_search
      - action: action_search_product_api

  - story: Pengguna mencari produk, awalnya tidak spesifik, lalu memberikan nama produk setelah ditanya
    steps:
      - intent: search_product
      - action: utter_acknowledge_search
      - action: action_search_product_api
      - intent: inform_product_name
        entities:
          - product_name: "Ayam Bakar Madu"
      - slot_was_set:
          - product_name_slot: "Ayam Bakar Madu"
      - action: action_search_product_api

  - story: Sapaan oleh pengguna
    steps:
      - intent: greet
      - action: utter_greet

  - story: Pengguna mengucapkan selamat tinggal
    steps:
      - intent: goodbye
      - action: utter_goodbye

  - story: Pengguna ingin melihat daftar semua toko yang tersedia
    steps:
      - intent: list_shops
      - action: utter_showing_all_shops
      - action: action_list_shops_api

  - story: Pengguna mencari toko berdasarkan nama toko yang valid
    steps:
      - intent: search_shop
        entities:
          - shop_name: "Ayam Bakar Mama Zain"
      - slot_was_set:
          - shop_name_slot: "Ayam Bakar Mama Zain"
      - action: utter_acknowledge_shop_search
      - action: action_search_shop_api

  - story: Pengguna mencari toko, awalnya tidak spesifik, lalu memberikan nama toko setelah ditanya
    steps:
      - intent: search_shop
      - action: utter_ask_shop_name_slot
      - intent: inform_shop_name
        entities:
          - shop_name: "MyAyam"
      - slot_was_set:
          - shop_name_slot: "MyAyam"
      - action: utter_acknowledge_shop_search
      - action: action_search_shop_api

  - story: Pengguna meminta rekomendasi produk
    steps:
      - intent: product_recommendations
      - action: utter_give_recommendations
      - action: action_recommend_products
      - action: utter_ask_after_recommendations

  - story: Pengguna meminta rekomendasi, bot menampilkan, pengguna tertarik dan ingin detail
    steps:
      - intent: product_recommendations
      - action: utter_give_recommendations
      - action: action_recommend_products
      - action: utter_ask_after_recommendations
      - intent: affirm
      - action: utter_ask_which_recommendation_detail
      - intent: inform_product_name_from_recommendation
        entities:
          - product_name: "Nama Produk Rekomendasi"
      - slot_was_set:
          - product_name_slot: "Nama Produk Rekomendasi"
      - action: action_show_product_detail

  - story: Pengguna meminta rekomendasi, bot menampilkan, pengguna tidak tertarik
    steps:
      - intent: product_recommendations
      - action: utter_give_recommendations
      - action: action_recommend_products
      - action: utter_ask_after_recommendations
      - intent: deny
      - action: utter_offer_other_help_after_recommendation_deny

  - story: Pencarian produk ambigu, aksi melakukan klarifikasi, pengguna mengonfirmasi pilihan
    steps:
      - intent: search_product
        entities:
          - product_name: "ayam bakar bekakak"
      - action: utter_acknowledge_search
      - action: action_search_product_api
      - intent: inform_product_name
        entities:
          - product_name: "ayam goreng original"
      - slot_was_set:
          - product_name_slot: "ayam goreng original"
      - action: utter_product_clarified_searching_now
      - action: action_search_product_api

  - story: Pencarian produk ambigu, aksi melakukan klarifikasi, pengguna menolak dan ingin mencari yang lain
    steps:
      - intent: search_product
        entities:
          - product_name: "tumpeng"
      - action: utter_acknowledge_search
      - action: action_search_product_api
      - intent: deny
      - action: utter_ask_product_name_slot

  - story: Pengguna mengonfirmasi sesuatu secara umum
    steps:
      - intent: affirm
      - action: utter_affirm

  - story: Pengguna menolak sesuatu secara umum
    steps:
      - intent: deny
      - action: utter_deny

  - story: Pengguna ingin melihat daftar semua produk
    steps:
      - intent: list_products
      - action: utter_showing_all_products
      - action: action_list_products_api

  - story: Pengguna ingin mengecek status pesanan
    steps:
      - intent: check_order_status
      - action: action_check_order_status
